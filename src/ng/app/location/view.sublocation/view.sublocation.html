<app-navbar></app-navbar>

<div class="location-navigation">
	<ul>
		<li class="add-location pink-theme  " [routerLink]="['/locations-ui/search-location']">
			<a href="javascript:void(0)" >
				<img src="assets/images/locations/add_location.png" class="default">
				<img src="assets/images/locations/add_location_hover.png" class="hover">
				<span>
					Add new location
				</span>
			</a>
		</li>

		<li class="view-location green-theme" [routerLink]="['/list-locations']">
			<a href="javascript:void(0)" >
				<img src="assets/images/locations/view_all_location.png" class="default">
				<img src="assets/images/locations/view_all_locations_hover.png" class="hover">
				<span>
					View location
				</span>
			</a>
		</li>

	</ul>
</div>

<div class="workspace container">
	<div class="row">
		<div class="col l2 m2 s12 left-part">
			
			<div class="row left-box-container">
				<div class="col m12 s12">
					<div class="box">
						<div class="title-wrapper">
							Evacuation Diagram
						</div>
						<div class="content">
							<button class="btn waves-effect waves-light orange">Upload Evacuation Diagram</button>
						</div>
					</div>
				</div>
				<div class="col m12 s12">
					<div class="box">
						<div class="title-wrapper">
							Sublocations
						</div>
						<div class="content">
							<ul class="sub-list">
								<li *ngFor="let location of parentData.sublocations" 
								[ngClass]="{active : encryptDecrypt.decrypt(location.location_id) == locationID}">
									<a [routerLink]="['/view-sublocation/', location.location_id]">{{ location.name }}</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div>

		</div>
		<div class="col l10 m10 s12 right-part">
			
			<div class="row">
				<div class="col l5 m5 s12">
					<h5 class="blue-title"> {{parentData.name}}, {{locationData.name}} </h5>

					<div class="input-field search-warden">
						<input id="inpSearchWarden" type="text" placeholder="Search warden here">
						<label for="inpSearchWarden">Assign Floor Warden</label>
					</div>

				</div>
				<div class="col l6 m6 s12 right-align">
					<div class="archived">
						<a href="javascript:void(0)" (click)="onClickArchiveLocation(locationData)">
							<img src="assets/images/locations/archived_icon.png"> [ Archive Sub Location ]
						</a>
					</div>
					<a class="btn blue waves-effect waves-light back-to" [routerLink]="['/view-location/', parentData.location_id]">Back to {{parentData.name}}</a>
				</div>
			</div>

			<div class="row bottom-row">
				<div class="col l11 m11 s12">
					<h5 class="blue-title"> {{locationData.name}} Warden Team </h5>
					<hr />
					<div class="no-team-message">
						You don't have warden team yet. <br/>
						Please set-up Building Name <br/>
						warden team
					</div>

					<button class="btn waves-light waves-effect orange">Go to team</button>
				</div>
			</div>

			
		</div>
	</div>
</div>


<div id="modalArchive" class="modal">
	<div class="modal-content">
		<div class="center-align" *ngIf="showLoaderModalSublocation">
			<div class="preloader-wrapper active" >
				<div class="spinner-layer spinner-red-only">
					<div class="circle-clipper left">
						<div class="circle"></div>
					</div><div class="gap-patch">
						<div class="circle"></div>
					</div><div class="circle-clipper right">
						<div class="circle"></div>
					</div>
				</div>
			</div>
		</div>

		<div class="center" *ngIf="errorMessageModalSublocation.length > 0 && !showLoaderModalSublocation">
			<h4>{{errorMessageModalSublocation}}</h4>
		</div>

		<div class="center-align" *ngIf="errorMessageModalSublocation.length == 0 && !showLoaderModalSublocation">
			<h5>Are you sure you want to archive this '{{selectedLocationToArchive.name}}'</h5>
		</div>

		<div class="button-container center-align" *ngIf="!showLoaderModalSublocation">
			<button class="modal-action modal-close waves-effect waves-light btn grey lighten-1 btn-flat">Cancel</button>
    		<button class="waves-effect waves-light btn orange btn-flat" (click)="onClickYesArchive()">Yes</button>
		</div>

	</div>
</div>
