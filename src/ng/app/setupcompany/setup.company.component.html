<div class="signup-main-container ">
	<div class="background"></div>

	<div id="modalSignup" class="modal">
		<div class="modal-content">

			<form  novalidate (ngSubmit)="setupFormSubmit(formSetupCompany, $event)" #formSetupCompany="ngForm"  >

				<div class="container">
					<div class="row">

						<div class="col m12 center-align">
							<h4 class="title">
								Setup your company information
							</h4>
							<p class="center-align please-fill-up">
							</p>
						</div>

						<div class="col m12">
							<div class="input-container">

								<div class="search-container">
									<div class="pre-loader-main-wrapper">
										<div class="pre-loader-container">
											<div class="preloader-wrapper active">
												<div class="spinner-layer spinner-red-only">
													<div class="circle-clipper left">
														<div class="circle"></div>
													</div>
													<div class="gap-patch">
														<div class="circle"></div>
													</div>
													<div class="circle-clipper right">
														<div class="circle"></div>
													</div>
												</div>
											</div>
										</div>
									</div>

									<h6 *ngIf=" searchedAccounts.length  > 0 ">Did you mean?</h6>
									<ul>
										<li *ngFor="let account of searchedAccounts">
											<a href="javascript:void(0)" attr.account-id="{{account.account_id}}" (click)="selectCompanyFromListEvent(account, formSetupCompany)" >{{account.account_name}}</a>
										</li>
									</ul>
									<div class="cant-find-my-company"  *ngIf="showCreateButton">
										<a href="javascript:void(0)" >
											We couldn't find anything for '{{inpCompanyName.value}}'
										</a>
										<br>
										<button class="btn orange waves-effect waves-light" (click)="cantFindMyCompanyEvent(formSetupCompany)">Create New One</button>
									</div>
								</div>

								<div class="input-field col m12 s12">
				                  	<input id="company_name" type="text" name="company_name"
					                   ngModel
					                   #inpCompanyName="ngModel"
					                   [ngClass]="{ 'invalid' : !inpCompanyName.valid  && inpCompanyName.dirty }"
					                   autocomplete="off"
					                   required>
									<label for="company_name">
										<span class="text">Search Company Name Here</span>
										<small *ngIf=" !inpCompanyName.valid && inpCompanyName.dirty "> *Required </small>
									</label>

								</div>

								<div class="input-field col m6" [ngClass]="{ 'hide' : !companyIsSelected }">
									<input id="key_contact" type="text" name="key_contact" ngModel #inpKeyContact="ngModel" [ngClass]="{ 'invalid' : !inpKeyContact.valid  && inpKeyContact.dirty }"  readonly="true">
									<label for="key_contact">Key Contact
										<small *ngIf=" !inpKeyContact.valid && inpKeyContact.dirty "> *Required </small>
									</label>
								</div>

								<div class="input-field col m6" [ngClass]="{ 'hide' : !companyIsSelected }">
									<input id="building_name" type="text" name="building_name" ngModel #inpBuildingName="ngModel" [ngClass]="{ 'invalid' : !inpBuildingName.valid  && inpBuildingName.dirty }" required readonly="true">
									<label for="building_name">Building Name
										<small *ngIf=" !inpBuildingName.valid && inpBuildingName.dirty "> *Required </small>
									</label>
								</div>

								<div class="input-field col m6" [ngClass]="{ 'hide' : !companyIsSelected }">
									<input id="building_number" type="text" name="building_number" ngModel #inpBuildingNumber="ngModel" [ngClass]="{ 'invalid' : !inpBuildingNumber.valid  && inpBuildingNumber.dirty }"  readonly="true">
									<label for="building_number">Building Number
										<small *ngIf=" !inpBuildingNumber.valid && inpBuildingNumber.dirty "> *Required </small>
									</label>
								</div>

								<div class="input-field col m6" [ngClass]="{ 'hide' : !companyIsSelected }">
									<input id="unit_no" type="text" name="unit_no" ngModel readonly="true" value="">
									<label for="unit_no">Unit No</label>
								</div>

								<div class="input-field col m6" [ngClass]="{ 'hide' : !companyIsSelected }">
									<input id="street" type="text" name="street" ngModel #inpStreet="ngModel" [ngClass]="{ 'invalid' : !inpStreet.valid  && inpStreet.dirty }" required readonly="true">
									<label for="street">Street
										<small *ngIf=" !inpStreet.valid && inpStreet.dirty "> *Required </small>
									</label>
								</div>

								<div class="input-field col m6" [ngClass]="{ 'hide' : !companyIsSelected }">
									<input id="city" type="text" name="city" ngModel #inpCity="ngModel" [ngClass]="{ 'invalid' : !inpCity.valid  && inpCity.dirty }" required readonly="true">
									<label for="city">City
										<small *ngIf=" !inpCity.valid && inpCity.dirty "> *Required </small>
									</label>
								</div>

								<div class="input-field col m6" [ngClass]="{ 'hide' : !companyIsSelected }">
									<input id="state" type="text" name="state" ngModel #inpState="ngModel" [ngClass]="{ 'invalid' : !inpState.valid  && inpState.dirty }" required readonly="true">
									<label for="state">State
										<small *ngIf=" !inpState.valid && inpState.dirty "> *Required </small>
									</label>
								</div>

								<div class="input-field col m6" [ngClass]="{ 'hide' : !companyIsSelected }">
									<input id="postal_code" type="text" name="postal_code" ngModel #inpPostalCode="ngModel" [ngClass]="{ 'invalid' : !inpPostalCode.valid  && inpPostalCode.dirty }" required readonly="true">
									<label for="postal_code">Postal Code
										<small *ngIf=" !inpPostalCode.valid && inpPostalCode.dirty "> *Required </small>
									</label>
								</div>

								<div class="select-field col m6 s12" [ngClass]="{ 'hide' : !companyIsSelected }">
									<select id="selCountry" [(ngModel)]="selCountry"  name="country" readonly="true">
										<option *ngFor="let country of countries;"  [value]="country.abbr" > {{ country.name }} </option>
									</select>
									<label class="select-label">Country</label>
								</div>

								<div class="select-field col m6 s12" [ngClass]="{ 'hide' : !companyIsSelected }">
									<select id="selTimezone" [(ngModel)]="selTimezone"  name="time_zone" readonly="true">
										<option *ngFor="let timezone of timezones" [value]="timezone.abbr" > {{ timezone.text }} </option>
									</select>
									<label class="select-label">Time-Zone</label>
								</div>

								<div class="input-field col m6" *ngIf="newCompany" [ngClass]="{ 'hide' : !companyIsSelected }">
									<input id="domain" type="text" name="account_domain" ngModel #inpDomain="ngModel" [ngClass]="{ 'invalid' : !inpDomain.valid  && inpDomain.dirty }" required>
									<label for="domain">Account Domain name
										<small *ngIf=" !inpDomain.valid && inpDomain.dirty "> *Required </small>
									</label>
                				</div>


								<div class="select-field col m12 s12"></div>

								<div class="input-field col s12 right-align"
									[ngClass]="{ 'm12 l12 ' : (!companyIsSelected && !newCompany), 'l6 m6' : (companyIsSelected || newCompany) }">
				                   <a *ngIf="!newCompany" (click)="cancelClick(formSetupCompany)" class="btn block waves-effect waves-light grey btn-go-back" >Cancel</a>
				                   <a *ngIf="newCompany" (click)="cancelClick(formSetupCompany)" class="btn block waves-effect waves-light grey btn-go-back"  >Cancel</a>
				                </div>

								<div class="input-field col m6 s12 right-align" [ngClass]="{ 'hide' : !companyIsSelected }">
									<button type="submit" class="btn block waves-effect waves-light btn-submit" >Submit</button>
								</div>
							</div>
						</div>

					</div>
				</div>

			</form>

		</div>
	</div>

	<div id="modalLoader" class="modal">
		<div class="modal-content center-align" style="padding: 20px;">
			<div *ngIf="modalLoader.showLoader">
				<div class="preloader-wrapper active">
					<div class="spinner-layer spinner-red-only">
						<div class="circle-clipper left">
							<div class="circle"></div>
						</div><div class="gap-patch">
							<div class="circle"></div>
						</div><div class="circle-clipper right">
							<div class="circle"></div>
						</div>
					</div>
				</div>
				<div>
					<h6>{{ modalLoader.loadingMessage }}</h6>
				</div>
			</div>

			<div *ngIf="modalLoader.showMessage" class="center-align">
				<p>
					<i class="material-icons {{ modalLoader.iconColor }}-text" style="font-size: 80px;">{{ modalLoader.icon }}</i>
				</p>
				<p style="font-size: 27px; line-height: 30px;">{{ modalLoader.message }}</p>
			</div>
		</div>
	</div>

</div>
<router-outlet></router-outlet>


