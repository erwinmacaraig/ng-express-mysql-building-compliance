<div class="container">

    <div class="row">
        <div class="col l12 m12 s12" *ngIf=" routeQuery['step'] && routeQuery['stillonlocation'] != 'no' ">

            <div class="steps-text">
                <div class="circle"></div>
                <div class="text" [ngClass]="{ 'blue-text' : routeQuery['step'] == '1' }" >Step 1</div>
                <div class="dash"></div>
                <div class="circle"></div>
                <div class="text" [ngClass]="{ 'blue-text' : routeQuery['step'] == '2' }">Step 2</div>
                <div class="dash"></div>
                <div class="circle"></div>
                <div class="text" [ngClass]="{ 'blue-text' : routeQuery['step'] == '3' }">Step 3</div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col l12 m12 s12">
            
            <div *ngIf=" !routeQuery['step']  && routeQuery['stillonlocation'] != 'yes' && routeQuery['stillonlocation'] != 'no'" style="position: relative;">
                <ng-container *ngTemplateOutlet="stillInLocation"> </ng-container>
            </div>

            <div *ngIf="routeQuery['step'] == '1' && routeQuery['stillonlocation'] == 'yes' && !routeQuery['final'] " style="position: relative;">
                <ng-container  *ngTemplateOutlet="yesUpdateProfile"> </ng-container>
            </div>

            <div *ngIf="routeQuery['step'] == '2' && routeQuery['stillonlocation'] == 'yes' && !routeQuery['final'] " style="position: relative;">
                <ng-container  *ngTemplateOutlet="yesTrainings"> </ng-container>
            </div>

            <div *ngIf="routeQuery['step'] == '3' && routeQuery['stillonlocation'] == 'yes' && !routeQuery['final'] " style="position: relative;">
                <ng-container *ngTemplateOutlet="yesUpdateNotification"></ng-container>
            </div>

            <div *ngIf="routeQuery['step'] == '3' && routeQuery['stillonlocation'] == 'yes' && routeQuery['final'] == 'true'">
                <ng-container *ngTemplateOutlet="thankYou"></ng-container>
            </div>

            <div *ngIf="routeQuery['stillonlocation'] == 'no' && !routeQuery['ans']">
                <ng-container *ngTemplateOutlet="noSelectAnswer"></ng-container>
            </div>

            <div *ngIf="routeQuery['stillonlocation'] == 'no' && routeQuery['ans'] == 'tenancy_moved_out'">
                <ng-container *ngTemplateOutlet="ansTenancyMovedOut"></ng-container>
            </div>

            <div *ngIf="routeQuery['stillonlocation'] == 'no' && routeQuery['ans'] == 'resign'">
                <ng-container *ngTemplateOutlet="ansResign"></ng-container>
            </div>

            <div *ngIf="routeQuery['stillonlocation'] == 'no' && routeQuery['ans'] == 'location_changed'">
                <ng-container *ngTemplateOutlet="ansChangedLocation"></ng-container>
            </div>
            
        </div>
    </div>
</div>

<ng-template #stillInLocation>
    <div class="div-center center" style="margin-top: 15%;">
        <div class="text">
            Are you still Warden for XYZ on 123 Location
        </div>
        <div class="buttons">
            <button class="btn orange waves-effect waves-light" (click)="clickStillOnLocation('yes')" >Yes</button>
            <button class="btn blue waves-effect waves-light" (click)="clickStillOnLocation('no')" >No</button>
        </div>
    </div>
</ng-template>

<ng-template #yesUpdateProfile>
    <div class="div-center update-profile">
        
        <div class="row">
            <div class="col l12 m12 s12">
                <h5 class="blue-text" style="margin-bottom: 10%;">Update Your Profile</h5>
            </div>

            <div class="col l12 m12 s12">
                <div class="form-group">
                    <label for="subLocation">Sub-Location</label>
                    <input type="text" class="form-control" id="subLocation" placeholder="Type location here" />
                </div>
            </div>

            <div class="col l12 m12 s12">
                <div class="form-group">
                    <label for="subLocation">Mobile</label>
                    <input type="text" class="form-control" id="mobile" placeholder="Type mobile number" />
                </div>
            </div>

            <div class="col l6 m12 s12">
                <button class="btn btn-block orange waves-effect waves-light" (click)="clickUpdateProfile()" >Update Profile</button>
            </div>

            <div class="col l6 m12 s12">
                <button class="btn btn-block blue waves-effect waves-light" (click)="clickToStep2()" >Next</button>
            </div>
        </div>

    </div>
</ng-template>

<ng-template #yesTrainings>
    <h5 class="blue-text center" style="margin-bottom: 5%;">Required Trainings</h5>

    <div class="row">
        <div class="col l12 m12 s12">
            <div id="gridContainer" class="center grid">
                <div class="grid-container">
                    
                    <div class="grid-item card grey lighten-3">
                        <div class="top">
                            <div class="image close inline-block"></div>
                            <div class="text inline-block red-text">Non-Compliant</div>
                        </div>
                        <div class="middle-image">
                            <div class="image red-image"></div>
                        </div>
                        <div class="middle-text">
                            Emergency Control Organisation
                            <p class="blue-text"></p>
                        </div>
                        <div class="buttons">
                            <button class="btn red lighten-1 waves-effect waves-light" type="button">Go To Training</button>
                        </div>
                    </div>
                </div>

                <div class="grid-container">
                    
                    <div class="grid-item card grey lighten-3">
                        <div class="top">
                            <div class="image close inline-block"></div>
                            <div class="text inline-block red-text">Non-Compliant</div>
                        </div>
                        <div class="middle-image">
                            <div class="image red-image"></div>
                        </div>
                        <div class="middle-text">
                            Emergency Control Organisation
                            <p class="blue-text"></p>
                        </div>
                        <div class="buttons">
                            <button class="btn red lighten-1 waves-effect waves-light" type="button">Go To Training</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="row">
        <div class="col l12 m12 s12 center">
            <button class="btn orange waves-effect waves-light center" (click)="clickToStep3()" >Next</button>
        </div>
    </div>
</ng-template>

<ng-template #yesUpdateNotification>
    <div class="div-center grey lighten-4 notification-settings boxed">
        <h5 class="margin-bottom-20">Update notification settings</h5>

    
        <div class="margin-bottom-20 check-container">
            <input id="threeMonths" type="radio" name="settings" value="3_months" /> 
            <label for="threeMonths">Email frequency every 3 months</label> 
        </div>

        <div class="margin-bottom-20 check-container">
            <input id="oneMonth" type="radio" name="settings" value="1_month" /> 
            <label for="oneMonth">Training Reminder: 1 month before training expiry</label> 
        </div>

        <div class="center">
            <button class="btn orange wave-effect waves-light" (click)="clickConfirmNotificationSettings()" >Confirm</button>
        </div>
        
    </div>
</ng-template>

<ng-template #thankYou>
    <div class="div-center center">
        <h5 class="margin-bottom-30">
            <strong>Thank you for informing us!</strong>
        </h5>
        <h5 class="margin-bottom-60">We will notify your tenancy manager now.</h5>


        <div class="center">
            <button class="btn orange waves-effect waves-light">Close</button>
        </div>
    </div>
</ng-template>

<ng-template #noSelectAnswer>
    <div class="div-center grey lighten-4 select-answer boxed">
        <h5 class="margin-bottom-20">Please select the answer below.</h5>

    
        <div class="margin-bottom-20 check-container">
            <input id="tenancyMovedOut" type="radio" name="no_answer" value="tenancy_moved_out" /> 
            <label for="tenancyMovedOut">Tenancy moved out</label> 
        </div>

        <div class="margin-bottom-20 check-container">
            <input id="iWantToResign" type="radio" name="no_answer" value="resign" /> 
            <label for="iWantToResign">I want to resign</label> 
        </div>

        <div class="margin-bottom-40 check-container">
            <input id="locationChanged" type="radio" name="no_answer" value="location_changed" /> 
            <label for="locationChanged">My location has changed</label> 
        </div>

        <div class="center">
            <button class="btn orange wave-effect waves-light" (click)="clickConfirmNoAnswer()" >Confirm</button>
        </div>
        
    </div>
</ng-template>

<ng-template #ansTenancyMovedOut>
    <div class="div-center grey lighten-4 tenancy-moved-out boxed ">
        <h5 class="margin-bottom-40 title center">
            Thank you for the information we will archive your tenancy details and notify your property manager.
        </h5>

    
        <div class="margin-bottom-40 textarea">
            <textarea placeholder="Additional message"></textarea>
        </div>

        <div class="center">
            <button class="btn orange wave-effect waves-light" (click)="noAnswerConfirm()" >Confirm</button>
        </div>
        
    </div>
</ng-template>

<ng-template #ansResign>
    <div class="div-center grey lighten-4 no-resign boxed ">
        <h5 class="margin-bottom-40 title center">
            Would you like to nominate new warden?
        </h5>
    
        <div class="check-container">
            <input id="nominateYes" type="radio" name="nominate" value="yes" /> 
            <label for="nominateYes">Yes, I want to nominate</label> 
        </div>

        <div class="input-white-bg">
            <input type="text"  placeholder="Please enter warden email" />
        </div>

        <div class="margin-bottom-20 check-container">
            <input id="nominateNo" type="radio" name="nominate" value="no" /> 
            <label for="nominateNo">No, I don't want to nominate</label> 
        </div>

        <div class="center">
            <button class="btn orange wave-effect waves-light" (click)="noAnswerConfirm()" >Confirm</button>
        </div>
        
    </div>
</ng-template>

<ng-template #ansChangedLocation>
    <div class="div-center grey lighten-4 no-change-location boxed ">
        <h5 class="margin-bottom-40 title center">
            Please enter your new location
        </h5>

        <div class="input-white-bg">
            <input type="text"  placeholder="Type new location here" />
        </div>
        
        <div class="input-white-bg margin-bottom-40" style="margin-right: 0px;">
            <select>
                <option value="test">Test name</option>
            </select>
        </div>
        

        <div class="center">
            <button class="btn orange wave-effect waves-light" (click)="noAnswerConfirm()" >Confirm</button>
        </div>
        
    </div>
</ng-template>